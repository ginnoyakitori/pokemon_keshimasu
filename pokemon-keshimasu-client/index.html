<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ポケモンケシマス</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div id="app-container">
        <h1 id="app-title">ポケモンケシマス</h1>

        <section id="auth-screen" style="display: block;">
            <div id="login-screen" class="auth-screen screen">
                <div class="auth-form">
                    <h2>ポケモンケシマス</h2>
                    
                    <input type="text" id="nickname-input" placeholder="ニックネーム (20文字まで)" maxlength="20" autocomplete="off">
                    
                    <input type="password" id="passcode-input" placeholder="パスコード (認証用)">

                    <div class="auth-button-group">
                        <button id="login-btn" class="auth-btn login-btn">ログイン</button>
                        <button id="signup-btn" class="auth-btn signup-btn secondary-btn">新規登録</button>
                    </div>
                    
                    <button id="guest-play-btn" class="switch-link">ゲストとしてプレイ (スコア非保存)</button>
                </div>
            </div>
        </section>

        <div id="home-screen" class="screen" style="display:none;">
            
            <p id="welcome-message" style="font-weight: bold; font-size: 1.1em; color: #FFD700; margin-bottom: 20px;">
            </p>
            
            <div class="game-rules">
                <h3>ゲームルール</h3>
                <p>盤面の全ての文字を消去してクリアを目指すパズルゲームです。</p>
                
                <ul class="rule-list">
                    <li>消去条件: 盤面上の文字を、一直線（縦または横）に選択し、その文字列をポケモン（または首都名）にすることで消去できます。</li>
                    <li>ワイルドカード: 文字「F」は任意のカタカナ一文字として使用可能です。</li>
                    <li>制限: 同じワードは2回以上使えません。</li>
                    <li>重力: 文字を消去すると、その上の文字が下に落下します。</li>
                    <li>出題順: 未クリアの問題のうち、登録日時が古いものから出題されます。</li>
                    <li>リセット: 消し方を間違えた場合、リセットボタンで最初の盤面に戻れます。</li>
                </ul>
            </div>
            <div class="mode-selection">
                <div class="mode-card">
                    <button id="btn-pokemon-mode">ポケモンケシマス</button>
                    <span id="pokemon-problem-count" class="problem-count-display">問題数: 0問</span>
                </div>
                
                <div class="mode-card">
                    <h2></h2>
                    <button id="btn-capital-mode">首都名ケシマス</button>
                    <span id="capital-problem-count" class="problem-count-display">問題数: 0問</span>
                </div>

                <div class="mode-card">
                    <h2></h2>
                    <button id="btn-create-mode">問題を作る</button>
                </div>

                <div class="mode-card">
                    <h2></h2>
                    <button id="btn-ranking">ランキング</button>
                </div>
            </div>

            <button id="btn-word-list" class="secondary-btn" style="margin-top: 20px;">
                利用可能なポケモン・首都名一覧
            </button>
            
            <div class="control-panel">
                <button id="btn-logout" class="secondary-btn" style="margin-top: 20px;">ログアウト</button>
            </div>
            
        </div>

        <div id="main-game-screen" class="screen" style="display:none;">
            <div class="game-header">
                <h2 id="current-game-title">ポケモンケシマス</h2>
                <div class="game-info">
                    <span id="problem-number-display" class="info-tag">第 1 問</span>
                    <span id="creator-display" class="info-tag">制作者: 銀の焼き鳥</span>
                </div>
            </div>

            <div id="board" class="board-grid">
            </div>
            
            <div class="control-panel">
                <button id="erase-button" disabled>消去する</button>
                <button id="reset-button" class="secondary-btn">リセット</button>
            </div>
            
            <div class="status-panel">
                <p>使用済みワード: <span id="used-words-display">なし</span></p>
                <button id="btn-back-to-home" class="secondary-btn">ホームに戻る</button>
            </div>
        </div>
        
        <div id="create-puzzle-screen" class="screen" style="display:none;">
            <h2>問題制作モード</h2>
            <p>8x5マス全てに、カタカナ一文字か「F」（ワイルドカード）を入力してください。</p>
            
            <div class="create-controls">
                <label for="creation-mode-select">判定モード:</label>
                <select id="creation-mode-select">
                    <option value="pokemon">ポケモンケシマス</option>
                    <option value="capital">首都名ケシマス</option>
                </select>
                <button id="btn-input-complete" disabled>入力完了 & 解答開始</button>
            </div>
            
            <p id="create-status">残り40マスに入力が必要です。</p>
            <div id="create-board" class="board-grid create-grid">
            </div>
            
            <button id="btn-create-back" class="secondary-btn">ホームに戻る</button>
        </div>

        <div id="ranking-screen" class="screen" style="display:none;">
            <h2>ランキング</h2>
            <div id="ranking-tabs">
                <button data-type="total">総合</button>
                <button data-type="pokemon">ポケモン</button>
                <button data-type="capital">首都名</button>
            </div>
            <p id="ranking-nickname-display">あなたの記録: ゲスト</p>
            <div id="ranking-list-container">
            </div>
            <button id="btn-ranking-back" class="secondary-btn">ホームに戻る</button>
        </div>

        <div id="word-list-screen" class="screen" style="display:none;">
            <h2>利用可能ワード一覧</h2>
            <p class="word-list-note">（サーバーから取得したポケモン/首都名が表示されます）</p>

            <div id="word-list-tabs">
                <button data-type="pokemon" class="active">ポケモンリスト</button>
                <button data-type="capital">首都名リスト</button>
            </div>

            <div id="word-list-content" class="word-list-grid">
            </div>

            <button id="btn-word-list-back" class="secondary-btn" style="margin-top: 20px;">ホームに戻る</button>
        </div>
        
    </div>

    <script src="script.js"></script>
</body>
</html>